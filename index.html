<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Under the Same Sky</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  color: white;
  background: radial-gradient(circle at top, #1b2b4f, #000814);
}

.stars::before {
  content: "";
  position: fixed;
  inset: 0;
  background: url("https://raw.githubusercontent.com/JulianLaval/canvas-particle-network/master/img/stars.png");
  opacity: 0.5;
  animation: moveStars 120s linear infinite;
  pointer-events: none; /* ‚≠ê FIX */
}

@keyframes moveStars {
  from { background-position: 0 0; }
  to { background-position: -10000px 5000px; }
}

.container {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.card {
  max-width: 520px;
  width: 100%;
  animation: fadeIn 1.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

input {
  padding: 10px;
  border-radius: 6px;
  border: none;
  width: 90%;
  margin-top: 15px;
  font-size: 16px;
}

button {
  margin-top: 15px;
  padding: 10px 22px;
  border-radius: 20px;
  border: none;
  background: #ff4d6d;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  background: #ff758f;
}

.hearts {
  position: fixed;
  top: 15px;
  width: 100%;
  text-align: center;
  font-size: 22px;
  z-index: 10;
}

.music {
  position: fixed;
  bottom: 15px;
  right: 20px;
  cursor: pointer;
  z-index: 10;
}

.easter {
  position: fixed;
  bottom: 15px;
  left: 20px;
  cursor: pointer;
  z-index: 10;
}
</style>
</head>

<body>
<div class="stars"></div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_cfa77c5fa7.mp3">
</audio>

<div class="hearts" id="hearts">‚ù§Ô∏èü§çü§ç</div>
<div class="music" onclick="toggleMusic()">üéµ</div>
<div class="easter" onclick="showEgg()">‚≠ê</div>

<div class="container">
  <div class="card" id="game"></div>
</div>

<script>
let step = 0;
const game = document.getElementById("game");
const hearts = document.getElementById("hearts");
const music = document.getElementById("music");

render();

function render() {
  if (step === 0) {
    game.innerHTML = `
      <h2>This is not a website.</h2>
      <p>This is a little journey.<br>Solve what‚Äôs simple.<br>Feel what‚Äôs real.</p>
      <button onclick="start()">Begin</button>
    `;
  }

  if (step === 1) {
    hearts.innerText = "‚ù§Ô∏èü§çü§ç";
    game.innerHTML = `
      <h3>Riddle 1</h3>
      <p>
      I‚Äôm where everything started.<br>
      Two strangers, one message.<br>
      What am I?
      </p>
      <input id="ans">
      <button onclick="check(['instagram','insta','insta dm'])">Submit</button>
    `;
  }

  if (step === 2) {
    hearts.innerText = "‚ù§Ô∏è‚ù§Ô∏èü§ç";
    game.innerHTML = `
      <h3>Riddle 2</h3>
      <p>
      Not your real name,<br>
      but the one I use only for you.<br>
      Small. Cute. Personal.<br>
      What do I call you?
      </p>
      <input id="ans">
      <button onclick="check(['chuhi'])">Submit</button>
    `;
  }

  if (step === 3) {
    hearts.innerText = "‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è";
    game.innerHTML = `
      <h3>Riddle 3</h3>
      <p>
      When you call me baby,<br>
      everything goes quiet.<br>
      Say my name.
      </p>
      <input id="ans">
      <button onclick="check(['gurveer'])">Submit</button>
    `;
  }

  if (step === 4) {
    document.body.style.overflow = "auto"; /* üìú FIX */
    game.innerHTML = `
      <h2>Under the Same Sky</h2>
    <p style="text-align:left">
    Another year ends tonight,<br>
    and somehow, you‚Äôre the thought that stays.<br><br>

    In a world that moves too fast,
    you became my pause ‚Äî the calm place my heart
    keeps coming back to.<br><br>

    We didn‚Äôt plan this.
    We didn‚Äôt rush it.
    It just happened‚Ä¶ softly, honestly,
    and then all at once.<br><br>

    I don‚Äôt know what this new year will bring,
    but I know what I want to bring into it ‚Äî
    you, your smile, your late replies,
    and the way you make ordinary moments feel special.<br><br>

    So here‚Äôs to us.
    To more conversations,
    more laughter,
    more choosing each other,
    even on the quiet days.<br><br>

    Happy New Year, my Chuhi ‚ù§Ô∏è<br>
    I‚Äôm really glad you‚Äôre here.<br><br>

    ‚Äî Gurveer
    </p>

      <button onclick="alert('‚ú® This is only the beginning ‚ú®')">
        Start our new year ‚ù§Ô∏è
      </button>

      <p id="midnight"></p>
    `;
    checkMidnight();
  }
}

function start() {
  music.play();   // üéµ FIX
  step++;
  render();
}

function check(correct) {
  const val = document.getElementById("ans").value.toLowerCase().trim();
  if (correct.includes(val)) {
    step++;
    render();
  } else {
    alert("Almost‚Ä¶ think with your heart üíõ");
  }
}

function toggleMusic() {
  music.paused ? music.play() : music.pause();
}

function showEgg() {
  alert("You always notice the little things. That‚Äôs why I fell for you.");
}

function checkMidnight() {
  const now = new Date();
  const midnight = new Date();
  midnight.setHours(24,0,0,0);

  if (midnight - now <= 0) {
    document.getElementById("midnight").innerText =
      "‚ú® It‚Äôs midnight. And I still choose you. Always.";
  } else {
    setTimeout(checkMidnight, midnight - now);
  }
}
</script>
</body>
</html>
